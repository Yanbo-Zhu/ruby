

符号有点难以解释，它们是字符串和数字的一半。但是可以很容易识别一个符号，因为它是以冒号开始一个或多个字母，如`:flag`或`:best_friend`。
符号就像字符串。一个符号之前是冒号(`:`)。 例如，

```shell
:abcd
```

它们不包含空格。 含有多个单词的符号用(`_`)写成。 字符串和符号之间的一个区别是，如果文本是一个数据，那么它是一个字符串，但如果它是一个代码，它是一个符号。

符号是唯一的标识符，表示静态值，而字符串表示更改的值。

# 1 什么是标志对象

标志是 Symbol 类的唯一实例，通常用于标识特定资源。标志是唯一的，因为在运行的程序中只能为特定标志创建 Symbol 类的一个实例。从特点上来讲，它更像一个字符串。

```ruby
> :hello.object_id 
=> 1277788

> :hello.object_id 
=> 1277788

```


解释：在这里，我们可以看到：hello符号仅创建一次，因为两次调用：hello.object_id返回相同的对象标识符。

而字符串则不同，即使字符串的内容一样，他在被调用的时候也会创建一个新的 String 对象。

```ruby
> 'hello'.object_id 
=> 70300743069360

>'hello'.object_id 
=> 70300743056220

```


新程序员的符号; 如果你是编程的新手，可将一个符号看作是一个几乎没有任何方法和没有字符串插值的被剥离下来的字符串。 将正确的字符串与类似符号的方法列表进行比较，如下所示：

```shell
2.1.1 :001> "hello".methods
2.1.1 :002> "hello".methods.count
2.1.1 :003> :hello.methods
2.1.1 :004> :hello.methods.count
```


有经验的程序员的符号: 如果你是一个有经验的程序员，想象一个符号是一个“命名整数”。 符号引用的实际值无关紧要。 我们所关心的是，虚拟机内对该值的任何引用将返回相同的值。 因此，符号在全局符号表中定义，它们的值不能改变。


**示例：**

```shell
irb(main):011:0> "string".object_id
=> 26922000
irb(main):012:0> "string".object_id
=> 29115220
irb(main):013:0> :symbol.object_id
=> 788188
irb(main):014:0> :symbol.object_id
=> 788188
irb(main):015:0>
```

在上面的演示代码中，为字符串创建了两个不同的`object_id`，但是对于符号，创建了`object_id`。

# 2 如何创建标志对象

我们在需要创建的内容之前加上一个冒号:即可创建一个 Symbol 对象。


```ruby
> :ruby
=> :ruby

:ruby.class
=> Symbol

```


# 3 何时会用到标志对象

## 3.1 表示方法和实例变量的名称

**实例：**
```ruby
attr_reader :title
```

`attr_reader`之后的：`title`是代表`@title`实例变量的符号。这块您将会在**Ruby类的创建**一章学习到。

## 3.2 作为哈希的key

**实例：**
hash = {a: 1, b: 2, c: 3}

哈希的概念我们会在**Ruby哈希**章节中学习。

## 3.3 元编程中传递参数

符号可用于元编程（_Metaprogramming_）方法中，例如`send`：

**实例：**
[1,2,3].send(:first)

元编程会在进阶时候为您解答。


# 4 标志类型的实例方法

注意事项：标志类型仅拥有少量的字符串类型的方法而且无法更改，如果需要对标志的内容进行操作需要把标志转换成字符串。

您可以使用to_s方法执行此操作。
```ruby
> :message.to_s
=> "message"

```

同样您也可以使用to_sym方法将字符串转换成Symbol类型，Symbol也拥有这个方法，这个返回值的方法是它本身。

```ruby
> "message".to_sym
=> :message

```


## 4.1 大小写转换

这个方法和字符串一样使用downcase和upcase。

```ruby
> :abc.upcase
=> :ABC
> :ABC.downcase
=> :abc

```


## 4.2 获取标志的长度

使用length或者size。

```ruby
> :hello.length
=> 5
> :hello.size
=> 5

```

## 4.3 empty?

判断 Symbol 对象是否为空字符串。

```ruby
> :"".empty?
=> true

```